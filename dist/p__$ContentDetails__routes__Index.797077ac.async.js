(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"16rw":function(e,t,a){e.exports={container:"container___1GeKM",category:"category___1yMWt","more-select":"more-select___3GZtb",p_text:"p_text___1u_Mj"}},"3ZqS":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0Owb"),_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("jrin"),antd_es_button_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("+L6B"),antd_es_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2/Rp"),antd_es_date_picker_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("iQDF"),antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("+eQT"),antd_es_input_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5NDa"),antd_es_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("5rEg"),_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("PpiC"),antd_es_form_style__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("y8nQ"),antd_es_form__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("Vl3Y"),_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("tJVT"),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__),dva__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("MuoO"),dva__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_13__),classnames__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("TSYQ"),classnames__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_14__),moment__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("wd/R"),moment__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_15__),lodash__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("LvDl"),lodash__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__),_components_MediaComponents__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("PWmT"),_components_Editor_index2_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("oz3V"),_utils_utils_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("+n12"),_components_WrapAuth__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("yAXW"),_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("S6jO"),_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__),dateFormat="YYYY-MM-DD HH:mm:ss";function Content(props){var _Form$useForm=antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].useForm(),_Form$useForm2=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["a"])(_Form$useForm,1),selfForm=_Form$useForm2[0],ueRef=Object(react__WEBPACK_IMPORTED_MODULE_12__["useRef"])(null),_useState=Object(react__WEBPACK_IMPORTED_MODULE_12__["useState"])(""),_useState2=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["a"])(_useState,2),editorText=_useState2[0],setEditorText=_useState2[1],className=props.className,CDetails=props.CDetails,dispatch=props.dispatch,curArt=CDetails.curArt,isEdit=CDetails.isEdit,queueContentId=CDetails.queueContentId,newsDataType=CDetails.newsDataType,forbiddenWordList=CDetails.forbiddenWordList,sensitiveWordList=CDetails.sensitiveWordList,hotWord=CDetails.hotWord,personalWord=CDetails.personalWord;Object(react__WEBPACK_IMPORTED_MODULE_12__["useEffect"])((function(){setEditorText(curArt.content)}),[curArt.content]),Object(react__WEBPACK_IMPORTED_MODULE_12__["useEffect"])((function(){selfForm.setFieldsValue({title:curArt.title,originName:curArt.originName,datetime:moment__WEBPACK_IMPORTED_MODULE_15___default()(curArt.pubTime)})}),[isEdit]);var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_12__["useState"])({initialFrameWidth:"100%",initialFrameHeight:400}),_useState4=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["a"])(_useState3,1),config=_useState4[0],_setContent=function(e){setEditorText(e)},changeIsEdit=function(e){e||selfForm.resetFields(),dispatch({type:"CDetails/save",payload:{isEdit:e}})},formItemLayout={form:selfForm,labelAlign:"left",labelCol:{span:3},wrapperCol:{span:20}},handelSaveArt=function(e){if(e.content=editorText,!lodash__WEBPACK_IMPORTED_MODULE_16___default.a.isEmpty(e.datetime)){var t=e.datetime.format(dateFormat);e.pubTime=new Date(t.replace(/-/g,"/")).getTime()}delete e.datetime;e.id;var a=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__["a"])(e,["id"]);dispatch({type:"CDetails/getNewsSaveContent",payload:{data:{content:a,id:queueContentId}}}),changeIsEdit(!1)},getHaderTpl=function(){var e;return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.header},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a["form-box"]},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\u6807\u9898",name:"title",initialValue:curArt.title,shouldUpdate:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]},isEdit?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_7__["a"],{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}):react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h3",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.title},curArt.title)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\xa0\xa0\xa0ID",name:"id",initialValue:curArt.id},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",null,curArt.id)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\u6765\u6e90",name:"originName",initialValue:curArt.originName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6765\u6e90"}]},isEdit?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_7__["a"],{placeholder:"\u8bf7\u8f93\u5165\u6765\u6e90"}):react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.title},curArt.originName)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\u65f6\u95f4",name:"datetime",initialValue:moment__WEBPACK_IMPORTED_MODULE_15___default()(curArt.pubTime),rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}]},isEdit?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__["a"],{showTime:!0,format:dateFormat}):react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.title},_utils_utils_js__WEBPACK_IMPORTED_MODULE_19__["c"].formatDate(curArt.pubTime)))),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a["button-box"]},!isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_WrapAuth__WEBPACK_IMPORTED_MODULE_20__["a"],{pathUrl:"/:type/cdetails",text:"\u4fee\u6539",perms:"news:edit",type:"primary",size:"small",onClick:function(){changeIsEdit(!0)}}),isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a["button-group"]},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["a"],(e={type:"primary",size:"small"},Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(e,"type","primary"),Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(e,"htmlType","submit"),e),"\u786e\u5b9a"),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["a"],{size:"small",onClick:function(){changeIsEdit(!1)}},"\u53d6\u6d88"))))},getContentHtml=function getContentHtml(textHtml,List){if(textHtml)return List.forEach((function(item,index){if(item.value.length>0){var data=item.value;data.map((function(v,i){var reg="/".concat(v,"/g");textHtml=textHtml.replace(eval(reg),'<span style="background:'.concat(item.color,';color:#ffffff;padding:0 5px;margin:0 2px;">').concat(v,"</span>"))}))}})),textHtml},list=[{name:"forbiddenWordList",color:"red",value:forbiddenWordList},{name:"hotWord",color:"red",value:hotWord},{name:"sensitiveWordList",color:"blue",value:sensitiveWordList},{name:"personalWord",color:"green",value:personalWord}],textHtml={__html:getContentHtml(curArt.content,list)},audioProps={url:curArt.mediaInfo&&curArt.mediaInfo.audios},videoProps={source:curArt.mediaInfo&&curArt.mediaInfo.videos&&curArt.mediaInfo.videos[1].src,poster:curArt.mediaInfo&&curArt.mediaInfo.images||[],duration:curArt.mediaInfo&&curArt.mediaInfo.videos&&curArt.mediaInfo.videos[1].duration},getContentTpl=function(){return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a["content-container"]},"AUDIO"===newsDataType&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_MediaComponents__WEBPACK_IMPORTED_MODULE_17__["a"],audioProps),"VIDEO"===newsDataType&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h4",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.title},"\u89c6\u9891\u8be6\u60c5 : "),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_MediaComponents__WEBPACK_IMPORTED_MODULE_17__["b"],videoProps)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_12___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:""},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h3",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.title},"\u6b63\u6587\u8be6\u60c5 : "),isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Editor_index2_js__WEBPACK_IMPORTED_MODULE_18__["a"],{id:"container",ref:ueRef,config:config,initData:editorText,setContent:function(e){return _setContent(e)}})),!isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a["content-box"]},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a["content-text"],dangerouslySetInnerHTML:textHtml})))))};return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"],Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["a"])({},formItemLayout,{onFinish:handelSaveArt,className:classnames__WEBPACK_IMPORTED_MODULE_14___default()(className,_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21___default.a.container)}),getHaderTpl(),getContentTpl())}function mapStateToProps(e){var t=e.CDetails;return{CDetails:t}}__webpack_exports__["a"]=Object(dva__WEBPACK_IMPORTED_MODULE_13__["connect"])(mapStateToProps)(Content)},"5+Y2":function(e,t,a){e.exports={operate_container:"operate_container___3-en0",button_group:"button_group___o53nh"}},"6ZGt":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"i",(function(){return o})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"n",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"m",(function(){return E})),a.d(t,"p",(function(){return m})),a.d(t,"q",(function(){return d})),a.d(t,"r",(function(){return p})),a.d(t,"j",(function(){return A})),a.d(t,"k",(function(){return f})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return O})),a.d(t,"l",(function(){return D})),a.d(t,"o",(function(){return g}));var _="",n="".concat(_,"/audit/file/upload/image"),r=a("H+gj"),l=["jpg","png","jpeg","gif"],o=5,i="YYYY-MM-DD HH:mm:ss",c={"":"\u5168\u90e8",NEWS:"\u56fe\u6587",VIDEO:"\u89c6\u9891",AUDIO:"\u97f3\u9891",IMAGE:"\u56fe\u96c6",TEXT:"\u7eaf\u6587\u672c"},s={"":"\u5168\u90e8",1:"\u5148\u5ba1\u540e\u53d1",2:"\u5148\u53d1\u540e\u5ba1",3:"\u514d\u5ba1"},u={"":"\u5168\u90e8",1:"1\u5929",3:"3\u5929",7:"7\u5929",15:"15\u5929",30:"30\u5929",60:"60\u5929",90:"90\u5929"},E={"":"\u5168\u90e8",0:"\u6682\u505c",1:"\u542f\u7528"},m={"":"\u5168\u90e8",0:"\u79bb\u7ebf",1:"\u5728\u7ebf",2:"\u6ce8\u9500"},d={"":"\u5168\u90e8",0:"\u6709\u6548",1:"\u6ce8\u9500"},p={"":"\u5168\u90e8",ONLINE:"\u4e0a\u67b6",OFFLINE:"\u4e0b\u67b6"},A={"":"\u5168\u90e8",dt:"\u65f6\u95f4",entry_queue_count:"\u5165\u5ba1\u91cf",audit_count:"\u5ba1\u6838\u91cf",audit_passed_count:"\u5ba1\u6838\u901a\u8fc7\u91cf"},f={desc:"\u964d\u5e8f",asc:"\u5347\u5e8f"},b={"":"\u5168\u90e8",INIT:"\u5f85\u5ba1",PENDING:"\u5df2\u9886\u53d6",PASS:"\u901a\u8fc7",REJECT:"\u5220\u9664"},O={"":"\u5168\u90e8","\u5ba1\u6838\u901a\u8fc7":"\u5ba1\u6838\u901a\u8fc7","\u5ba1\u6838\u672a\u901a\u8fc7":"\u5ba1\u6838\u672a\u901a\u8fc7"},D=["\u53bb\u6742\u4e0d\u51c0","\u5e7f\u544a"],g=["\u6587\u7ae0\u8d28\u91cf\u5dee","\u5e7f\u544a","\u8f6f\u6587","\u5c01\u56fe","\u53bb\u6742\u4e0d\u51c0","\u6293\u53d6\u4e0d\u5168/\u9519\u8bef","\u7248\u6743\u95ee\u9898","\u5176\u4ed6"]},BV1f:function(e,t,a){e.exports={btn:"btn___2h0zq",container:"container___2ymtD",bg_box:"bg_box___3Umbr",dark:"dark___1xhEX",mobile:"mobile___1kb1D","body-box":"body-box___2zl5l"}},"C/EM":function(e,t,a){e.exports={container:"container____cJ29"}},F1Jz:function(e,t,a){e.exports={video_container:"video_container___28OCt",normal:"normal___2aeKp",title:"title___2f7-z",content:"content___2EYQV",source:"source___3itpU","content-text":"content-text___3GR1n","content-detail":"content-detail___WDUVV"}},"H+gj":function(e,t){e.exports="data:image/png;base64,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"},PWmT:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return f}));var _=a("q1tI"),n=a.n(_),r=a("TSYQ"),l=a.n(r),o=a("ulqF"),i=a.n(o);function c(e){var t=e.className,a=e.url;return n.a.createElement("div",{className:l()(t,i.a.container)},n.a.createElement("audio",{src:a,controls:!0},"\u6d4f\u89c8\u5668\u7248\u672c\u8fc7\u4f4e\uff0c\u4e0d\u652f\u6301audio\u6807\u7b7e"))}var s=c,u=a("tJVT"),E=a("Valh"),m=a.n(E),d=a("LvDl"),p=a.n(d);function A(e){var t=Object(_["useRef"])(null),a=Object(_["useState"])(!0),r=Object(u["a"])(a,2),o=r[0],i=r[1],c=Object(_["useState"])(!1),s=Object(u["a"])(c,2),E=s[0],d=s[1],A=e.className,f=e.source,b=e.poster,O=e.duration,D=function(){var e=t.current;e.play(),i(!1),d(!0)};return n.a.createElement("div",{className:l()(A,m.a["video-player"])},n.a.createElement("video",{ref:t,controls:E,controlsList:"nodownload",src:f,poster:!p.a.isEmpty(b)&&b[1].src||""}),o&&n.a.createElement("div",{className:m.a["video-overlay"],style:{backgroundImage:"url(".concat(b,")")}},n.a.createElement("a",{className:m.a["btn-play"],onClick:function(){return D()}}),n.a.createElement("span",{className:m.a["duration-wrap"]},n.a.createElement("i",{className:m.a["icon"]}),n.a.createElement("span",{className:m.a["duration"]},O))))}var f=A},S6jO:function(e,t,a){e.exports={container:"container___oUC8k",header:"header___Mx5Mu","form-box":"form-box___1SOFK","button-box":"button-box___1WhUC","button-group":"button-group___YO6Kz","content-container":"content-container___1zdMo",title:"title___2o8T1","content-box":"content-box___2QT3v","content-text":"content-text___8xGQE"}},Uwgd:function(e,t,a){e.exports={content:"content___UMpkx",button_list:"button_list___1YCmi",images_list:"images_list___3tv4Y",item:"item___1TfRE",upload_list:"upload_list___2uSqM",button_header:"button_header___3XSS3",footer:"footer___3_U2S"}},V0Yb:function(e,t,a){e.exports=a.p+"static/iPhone_bg.9f24fe6d.svg"},Valh:function(e,t,a){e.exports={container:"container___1I5Dl","video-player":"video-player___1tRzO","video-overlay":"video-overlay___M15oG","btn-play":"btn-play___3Pzif","duration-wrap":"duration-wrap___2UcXe",icon:"icon___2JdVu",duration:"duration___We8yd"}},eoxv:function(e,t,a){e.exports={container:"container___2L0J5",content:"content___2vIO_",line:"line___2qENv",action:"action___3XUhl",loading:"loading___1zav7"}},f2GR:function(e,t,a){e.exports={container:"container___3QQbQ",slider:"slider___3swnj","content-text":"content-text___2j2Ou",text:"text___2HH4O",number:"number___3Vpd8"}},oz3V:function(e,t,a){"use strict";var _=a("q1tI"),n=a.n(_),r=null,l=[["source","|","undo","redo","|","bold","italic","underline","strikethrough","removeformat","blockquote","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","|","paragraph","fontfamily","fontsize","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","link","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage"]];function o(e,t){Object(_["useEffect"])((function(){return window.UE.getEditor&&a(e.initData,e.config,e.setContent),function(){r.destroy(e.id);var t=window.document.querySelector("#ueditor-container");t.parentElement.removeChild(t)}}),[]);var a=function(e,t,a){r=window.UE&&window.UE.getEditor("ueditor-container",{toolbars:l,maximumWords:1e6,scaleEnabled:!1,autoFloatEnabled:!1,autoHeightEnabled:!1,initialFrameHeight:t&&t.initialFrameHeight||450,initialFrameWidth:t&&t.initialFrameWidth||"100%",zIndex:1}),r.ready((function(){e&&r.setContent(e)})),r.addListener("blur",(function(){a(r.getContent())}))};return Object(_["useImperativeHandle"])(t,(function(){return{getUEContent:function(){return r.getContent()}}})),n.a.createElement("script",{id:"ueditor-container",type:"text/plain"})}t["a"]=Object(_["forwardRef"])(o)},tvpq:function(e,t,a){"use strict";a.r(t);a("T2oS");var _=a("W9HT"),n=a("q1tI"),r=a.n(n),l=a("MuoO"),o=a("3ZqS"),i=(a("+L6B"),a("2/Rp")),c=a("k1fw"),s=a("PpiC"),u=(a("miYZ"),a("tsqr")),E=(a("y8nQ"),a("Vl3Y")),m=a("tJVT"),d=(a("2qtc"),a("kLXV")),p=a("LvDl"),A=a.n(p),f=a("9kvl"),b=a("TSYQ"),O=a.n(b),D=a("GYYy"),g=(a("DZo9"),a("8z0m")),C=(a("7Kak"),a("9yH6")),M=(a("XCrF"),a("1GRj")),P=a("WmNS"),I=a.n(P),v=a("9og8"),y=a("oBTY"),B=a("O7uO"),T=a("xvlK"),h=a("6ZGt"),U=a("+n12"),j=a("zVwb"),R=a.n(j);function L(e){var t=e.curArt,a=void 0===t?{}:t,_=function(e){if(e)return e.replace(/<[^>]+>/gi,(function(e){var t=/style\s*?=\s*?([\u2018"])[\s\S]*?\1/;e=e.replace(t,"");return e.indexOf("<img")>-1||(e=e.replace(/width/gi,""),e=e.replace(/height/gi,"")),e}))},n={__html:_(a.content)||""};return r.a.createElement("div",{className:R.a.normal},r.a.createElement("p",{className:R.a.title},a.title),r.a.createElement("p",{className:R.a.source},a.pubtime&&r.a.createElement("span",null,U["c"].formatDate(a.pubtime)),a.sourceName.length>5&&r.a.createElement("br",null),r.a.createElement("span",null," \u6765\u6e90\uff1a",a.sourceName||a.sourceName)),r.a.createElement("div",{className:R.a["content-detail"],dangerouslySetInnerHTML:n}))}var K=L,W=a("bTu8"),N=(a("J/SH"),a("f2GR")),k=a.n(N);function w(e){var t=e.images,a=void 0===t?[]:t,_=Object(n["useState"])(!1),l=Object(m["a"])(_,2),o=l[0],i=l[1],c=function(){new W["a"](".swiper-container",{direction:"horizontal",loop:!0})};return Object(n["useEffect"])((function(){c()}),[]),r.a.createElement("div",{className:O()("swiper-container",k.a.container)},r.a.createElement("div",{className:O()("swiper-wrapper"),onClick:function(){i(!o)}},a.length&&a.map((function(e,t){return r.a.createElement("div",{key:t,className:O()("swiper-slide",k.a.slider)},r.a.createElement("img",{src:e.pic_url}))}))),r.a.createElement("div",{className:k.a["content-text"]},o&&r.a.createElement("p",{className:k.a.text},"111111"),!o&&r.a.createElement("p",{className:k.a.number},"1/5")),r.a.createElement("div",{className:O()("swiper-pagination")}),r.a.createElement("div",{className:O()("swiper-button-prev")}),r.a.createElement("div",{className:O()("swiper-button-next")}),r.a.createElement("div",{className:O()("swiper-scrollbar")}))}var Q=w,S=a("PWmT"),x=a("F1Jz"),F=a.n(x);function q(e){var t=e.curArt,a=void 0===t?{}:t,_={className:F.a.video_container,source:a.mediaInfo&&a.mediaInfo.videos[1].src,poster:a.mediaInfo&&a.mediaInfo.images||[],duration:a.mediaInfo&&a.mediaInfo.videos[1].duration},n=function(e){if(e)return e.replace(/<[^>]+>/gi,(function(e){var t=/style\s*?=\s*?([\u2018"])[\s\S]*?\1/;e=e.replace(t,"");return e.indexOf("<img")>-1||(e=e.replace(/width/gi,""),e=e.replace(/height/gi,"")),e}))},l={__html:n(a.content)||""};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S["b"],_),r.a.createElement("div",{className:F.a.normal},r.a.createElement("p",{className:F.a.title},a.title),r.a.createElement("p",{className:F.a.source},a.createtime&&r.a.createElement("span",null,U["c"].formatDate(a.createtime)),a.origin&&a.origin.length>5&&r.a.createElement("br",null),r.a.createElement("span",null," \u6765\u6e90\uff1a",a.origin||a.originName)),r.a.createElement("div",{className:F.a["content-detail"],dangerouslySetInnerHTML:l})))}var J=q,H=a("BV1f"),Y=a.n(H),z=a("V0Yb");function G(e){var t=Object(n["useState"])(!1),a=Object(m["a"])(t,2),_=a[0],l=a[1],o=e.title,u=e.curArt,E=void 0===u?{}:u,p=e.newsDataType,A=Object(s["a"])(e,["title","curArt","newsDataType"]),f=Object(c["a"])({title:o,visible:_,centered:!0,destroyOnClose:!0,onCancel:function(){l(!_)}},A);return r.a.createElement(r.a.Fragment,null,r.a.createElement(i["a"],{className:Y.a.btn,type:"primary",onClick:function(){l(!_)}},o),r.a.createElement(d["a"],f,r.a.createElement("div",{className:Y.a.container},r.a.createElement("div",{className:O()(Y.a.bg_box,"IMAGE"===p?Y.a.dark:"")}),r.a.createElement("div",{className:Y.a.mobile,style:{backgroundImage:"url("+z+")"}},r.a.createElement("div",{className:Y.a["body-box"]},("NEWS"===p||"TEXT"===p)&&r.a.createElement(K,{curArt:E}),"IMAGE"===p&&r.a.createElement(Q,{images:E.oppoPics}),"VIDEO"===p&&r.a.createElement(J,{curArt:E}))))))}var V=G,Z=a("Uwgd"),X=a.n(Z);a("8dk+");function $(e){var t=e.pForm,a=e.CDetails,_=a.curArt,l=a.newsDataType,o=function(e){var t=[];return A.a.isEmpty(e)?[]:(Object.keys(e).map((function(a){e[a].uid=a,e[a].url=e[a].originalUrl,t.push(e[a])})),t)},c=o(_.covers)||o(_.picMessageMap)||[],s=o(_.picMessageMap),p=Object(n["useState"])(!1),f=Object(m["a"])(p,2),b=f[0],O=f[1],D=Object(n["useState"])(0),P=Object(m["a"])(D,2),U=P[0],j=P[1],R=Object(n["useState"])(3),L=Object(m["a"])(R,2),K=L[0],W=L[1],N=Object(n["useState"])(c),k=Object(m["a"])(N,2),w=k[0],Q=k[1],S=Object(n["useState"])(s||[]),x=Object(m["a"])(S,1),F=x[0],q=Object(n["useState"])(!1),J=Object(m["a"])(q,2),H=J[0],Y=J[1],z=Object(n["useState"])("cover"),G=Object(m["a"])(z,2),Z=G[0],$=G[1],ee=Object(n["useState"])(""),te=Object(m["a"])(ee,2),ae=te[0],_e=te[1];Object(n["useEffect"])((function(){t.setFieldsValue({covers:o(_.covers)}),Q(o(_.covers))}),[_.covers]);var ne=function(e){if(W(e),1===e)return Q([w[0]]);Q(c)},re=function(e){if(!h["b"])return!0;var t=new RegExp(".(".concat(h["b"].join("|"),")$"),"i");return t.test(e.type)?!h["i"]||(e.size/1024/1024<=h["i"]||(u["b"].error("\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7".concat(h["i"],"M")),!1)):(u["b"].error("\u6587\u4ef6\u7c7b\u578b\u53ea\u652f\u6301".concat(h["b"].join(","),"\u7c7b\u578b")),!1)},le=function(e){var t=e.file.status,a=void 0===t?"":t;"uploading"!==a&&Q(Object(y["a"])(e.fileList)),"done"===a?Q([].concat(Object(y["a"])(w),[{uid:new Date,url:e.file.response.data.fileUrl,imageKey:e.file.response.data.fileUrl,originalUrl:e.file.response.data.fileUrl,width:e.file.response.data.width,height:e.file.response.data.height}])):"error"===a&&u["b"].error("".concat(e.file.name," file upload failed."))},oe=function(){var e=Object(v["a"])(I.a.mark((function e(t){return I.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.url){e.next=2;break}return e.abrupt("return");case 2:Y(!0),_e(t.url);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie={title:"\u9884\u89c8\u6548\u679c",footer:null,width:420,curArt:_,newsDataType:l};return r.a.createElement(E["a"].Item,{name:"covers",noStyle:!0},r.a.createElement("div",{className:X.a.content},r.a.createElement("img",{width:240,height:180,src:!A.a.isEmpty(w)&&w[0]&&w[0].originalUrl||h["g"]}),r.a.createElement("div",{className:X.a.button_list},r.a.createElement(i["a"],{type:"primary",disabled:A.a.isEmpty(w)||!w[2],onClick:function(){O(!0),j(0),$("cover")}},"\u4e09\u56fe"),r.a.createElement(i["a"],{type:"primary",onClick:function(){O(!0),j(1)}},"\u4fee\u6539\u5c01\u9762\u56fe"),r.a.createElement(i["a"],{type:"primary",onClick:function(){O(!0),j(2),$("contentImages")}},"\u6b63\u6587\u5168\u56fe"),r.a.createElement(V,ie))),r.a.createElement(d["a"],{title:2===U?"\u6b63\u6587\u5168\u56fe":"\u5c01\u9762\u56fe",centered:!0,destroyOnClose:!0,visible:b,onCancel:function(){O(!1),$("cover"),2!==U&&Q.apply(void 0,[c])},footer:null},(0===U||2===U)&&r.a.createElement("div",{className:X.a.images_list},"cover"!==Z||A.a.isEmpty(w)?"cover"===Z&&r.a.createElement("p",null,"\u6682\u65e0\u5c01\u9762\u56fe"):w.map((function(e,t){return r.a.createElement(M["a"],{className:X.a.item,key:t,width:120,height:90,alt:"\u5c01\u9762\u56fe",src:e.originalUrl,fallback:h["g"]})})),"contentImages"!==Z||A.a.isEmpty(F)?"contentImages"===Z&&r.a.createElement("p",null,"\u6682\u65e0\u5185\u5bb9\u56fe\u7247"):F.map((function(e,t){return r.a.createElement(M["a"],{className:X.a.item,key:t,width:120,height:90,alt:"\u5c01\u9762\u56fe",src:e.originalUrl,fallback:h["g"]})}))),1===U&&r.a.createElement("div",{className:X.a.upload_list},r.a.createElement(C["a"].Group,{className:X.a.button_header,name:"image-number",defaultValue:K,onChange:function(e){return ne(e.target.value)}},r.a.createElement(C["a"],{value:1},"\u5355\u56fe"),r.a.createElement(C["a"],{value:3},"\u4e09\u56fe")),r.a.createElement(B["a"],{rotate:!0},r.a.createElement(g["a"],{action:h["a"],listType:"picture-card",fileList:o(w)||[],beforeUpload:re,onChange:le,onPreview:oe},!A.a.isEmpty(w)&&o(w).length>=K?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(T["a"],null),r.a.createElement("div",{style:{marginTop:8}},"Upload"))))),r.a.createElement(d["a"],{visible:H,title:"\u56fe\u7247\u9884\u89c8",footer:null,onCancel:function(){return Y(!1)}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:ae})),2!==U&&r.a.createElement("div",{className:X.a.footer},0===U?r.a.createElement(i["a"],{type:"primary",onClick:function(){return j(1)}},"\u4fee\u6539\u5c01\u9762\u56fe"):r.a.createElement(i["a"],{type:"primary",onClick:function(){t.setFieldsValue({covers:w}),O(!1)}},"\u786e\u5b9a"),r.a.createElement(i["a"],{onClick:function(){return O(!1)}},"\u5173\u95ed"))))}function ee(e){var t=e.CDetails;return{CDetails:t}}var te=Object(l["connect"])(ee)($),ae=a("C/EM"),_e=a.n(ae);function ne(e){var t=e.className,a=e.CDetails.curArt;return r.a.createElement("div",{className:O()(t,_e.a["container"])},r.a.createElement("p",null,r.a.createElement("span",null,"\u6293\u53d6\u6765\u6e90ID: ",a.sourceName||""),r.a.createElement("span",null,"\u6293\u53d6\u6765\u6e90\uff1a ",a.sourceId||"")),r.a.createElement("p",null,"\u539f\u6587\u94fe\u63a5\uff1a ",r.a.createElement("a",{href:a.originUrl||""},a.originUrl||"")),r.a.createElement("p",null,"\u6458\u8981\uff1a ",a.summary||""))}function re(e){var t=e.CDetails;return{CDetails:t}}var le=Object(l["connect"])(re)(ne),oe=(a("14J3"),a("BMrR")),ie=(a("jCWc"),a("kPKH")),ce=(a("Pwec"),a("CtXQ")),se=(a("5NDa"),a("5rEg")),ue=(a("sRBo"),a("kaz8")),Ee=a("0Owb"),me=(a("+BJd"),a("mr32")),de=(a("OaEy"),a("2fM7")),pe=de["a"].Option;function Ae(e){var t=e.dispatch,a=e.pForm,_=e.Global,n=_.firstCategory,l=_.secondCategory,o=_.thirdCategory,i={allowClear:!0,style:{width:"33%"}},c=function(e,_){if("firstCategoryId"===_)a.resetFields(["categorySecond","categoryThird"]),a.setFieldsValue({categorySecond:null,categoryThird:null}),t({type:"Global/getSecondCategory",payload:{id:e||0,type:0}});else{if(a.resetFields(["categoryThird"]),a.setFieldsValue({categoryThird:null}),!e)return;t({type:"Global/getThirdCategory",payload:{id:e,type:0}})}},s=function(e,t){c(e,t)};return r.a.createElement(E["a"].Item,{label:"\u5206\u7c7b",shouldUpdate:!0},r.a.createElement(se["a"].Group,{compact:!0},r.a.createElement(E["a"].Item,{key:"categoryFirst",name:"categoryFirst",noStyle:!0},r.a.createElement(de["a"],Object(Ee["a"])({placeholder:"\u4e00\u7ea7\u5206\u7c7b"},i,{onChange:function(e){return s(e,"firstCategoryId")}}),!A.a.isEmpty(n)&&n.map((function(e,t){return r.a.createElement(pe,{key:e.id,value:e.id.toString()},e.name)})))),r.a.createElement(E["a"].Item,{key:"categorySecond",name:"categorySecond",noStyle:!0},r.a.createElement(de["a"],Object(Ee["a"])({placeholder:"\u4e8c\u7ea7\u5206\u7c7b"},i,{onChange:function(e){return s(e,"secondCategoryId")}}),!A.a.isEmpty(l)&&l.map((function(e,t){return r.a.createElement(pe,{key:e.id,value:e.id.toString()},e.name)})))),r.a.createElement(E["a"].Item,{key:"categoryThird",name:"categoryThird",noStyle:!0},r.a.createElement(de["a"],Object(Ee["a"])({placeholder:"\u4e09\u7ea7\u5206\u7c7b"},i,{onChange:function(e){return s(e,"thirdCategoryId")}}),!A.a.isEmpty(o)&&o.map((function(e,t){return r.a.createElement(pe,{key:e.id,value:e.id.toString()},e.name)}))))))}function fe(e){var t=e.Global,a=e.CDetails;return{Global:t,CDetails:a}}var be=Object(l["connect"])(fe)(Ae),Oe=a("16rw"),De=a.n(Oe),ge={labelCol:{span:8},wrapperCol:{span:14}};function Ce(e){var t=e.name,a=void 0===t?"FormAction":t,_=e.pForm,l=e.className,o=e.dispatch,s=e.CDetails,d=s.curArt,p=s.auditState,f=s.reason,b=s.forbiddenWordList,D=s.sensitiveWordList,g=s.hotWord,M=s.personalWord;Object(n["useEffect"])((function(){_.setFieldsValue({isDup:d.isDup||0,hotValue:[d.hotValue]||!1,bigEvent:[d.bigEvent]||!1,tags:d.tags||[],auditState:"PASS"!==p&&"REJECT"!==p?null:p,reason:f||[],categoryFirst:d.categoryFirst||null,categorySecond:d.categorySecond||null,categoryThird:d.categoryThird||null})}),[JSON.stringify(d)]);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{type:0,text:e}}))},I=Object(n["useRef"])(null),v=Object(n["useState"])([]),B=Object(m["a"])(v,2),T=B[0],U=B[1],j=Object(n["useState"])(!1),R=Object(m["a"])(j,2),L=R[0],K=R[1];Object(n["useEffect"])((function(){U(P(d.tags))}),[d.tags]);var W={labelAlign:"left",labelCol:{span:3},wrapperCol:{span:21}},N=function(e,t){var a=A.a.cloneDeep(T);a.splice(t,1),U(a),_.setFieldsValue({tags:Object(y["a"])(a)})},k=function(){var e=I.current.state.value;if(!e)return!1;if(Q(e)>50)return u["b"].error("\u60a8\u8f93\u5165\u7684\u6587\u5b57\u8fc7\u957f\uff0c\u6700\u591a\u53ef\u8f93\u516550\u4e2a\u5b57");var t=T.find((function(t){return t.text===e}));if(t)return u["b"].error("\u8be5\u6807\u7b7e\u5df2\u5b58\u5728\uff0c\u8bf7\u4e0d\u8981\u91cd\u590d\u521b\u5efa");o({type:"CDetails/getCheckoutTags",payload:{name:e},callback:function(t){U([].concat(Object(y["a"])(T),[{type:t?1:0,text:e}])),_.setFieldsValue({tags:[].concat(Object(y["a"])(T),[{type:t?1:0,text:e}])}),K(!1)}})},w=function(){K(!1)},Q=function(e){return Math.ceil(S(e)/2)},S=function(e){return e.replace(/[^\x00-\xff]/g,"aa").length},x=Object(c["a"])(Object(c["a"])({name:a,form:_},W),{},{className:O()(l,De.a.container)});return r.a.createElement(E["a"],Object(Ee["a"])({},x,{from:_}),r.a.createElement(be,{pForm:_}),r.a.createElement(E["a"].Item,{label:"\u8fdd\u7981\u8bcd"},r.a.createElement("p",{className:De.a.p_text},A.a.isEmpty(b)?r.a.createElement("span",null,"\u6682\u65e0"):b.map((function(e,t){return r.a.createElement(me["a"],{key:t,color:"red"},e)})))),r.a.createElement(E["a"].Item,{label:"\u654f\u611f\u8bcd"},r.a.createElement("p",{className:De.a.p_text},A.a.isEmpty(D)?r.a.createElement("span",null,"\u6682\u65e0"):D.map((function(e,t){return r.a.createElement(me["a"],{key:t,color:"volcano"},e)})))),r.a.createElement(E["a"].Item,{label:"\u70ed\u8bcd"},r.a.createElement("p",{className:De.a.p_text},A.a.isEmpty(g)?r.a.createElement("span",null,"\u6682\u65e0"):g.map((function(e,t){return r.a.createElement(me["a"],{key:t,color:"blue"},e)})))),r.a.createElement(E["a"].Item,{label:"\u4eba\u7269\u8bcd"},r.a.createElement("p",{className:De.a.p_text},A.a.isEmpty(M)?r.a.createElement("span",null,"\u6682\u65e0"):M.map((function(e,t){return r.a.createElement(me["a"],{key:t,color:"green"},e)})))),r.a.createElement(E["a"].Item,Object(Ee["a"])({},ge,{label:"\u662f\u5426\u53ef\u91cd\u590d\u5206\u53d1",name:"isDup"}),r.a.createElement(C["a"].Group,null,r.a.createElement(C["a"],{value:0},"\u662f"),r.a.createElement(C["a"],{value:1},"\u5426"))),r.a.createElement(E["a"].Item,null,r.a.createElement(E["a"].Item,{noStyle:!0,name:"hotValue"},r.a.createElement(ue["a"].Group,null,r.a.createElement(ue["a"],{value:1},"\u70ed\u70b9"))),r.a.createElement(E["a"].Item,{noStyle:!0,name:"bigEvent"},r.a.createElement(ue["a"].Group,null,r.a.createElement(ue["a"],{value:1},"\u5927\u4e8b\u4ef6")))),r.a.createElement(E["a"].Item,{label:"\u6807\u7b7e",name:"tags",help:"\u6700\u591a\u652f\u630110\u4e2a\u6807\u7b7e\uff0c\u5355\u4e2a50\u4e2a\u5b57\u7b26"},r.a.createElement(r.a.Fragment,null,T.map((function(e,t){var a=r.a.createElement(me["a"],{key:t+e.text,closable:!0,color:1===e.type?"green":"",onClose:function(){return N(e,t)}},e.text);return a})),L&&r.a.createElement("div",null,r.a.createElement(se["a"],{ref:I,type:"text",size:"small",onPressEnter:function(e){e.preventDefault()}}),r.a.createElement(i["a"],{size:"small",type:"primary",onClick:function(){return k()}},"\u4fdd\u5b58"),"\xa0\xa0\xa0\xa0",r.a.createElement(i["a"],{size:"small",onClick:function(){return w()}},"\u53d6\u6d88")),!L&&r.a.createElement(me["a"],{onClick:function(){K(!0)},style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(ce["a"],{type:"plus"})," \u65b0\u589e"))),r.a.createElement(E["a"].Item,{label:"\u5ba1\u6838\u7ed3\u679c",labelCol:{span:6},name:"auditState",rules:[{required:!0,message:"\u9009\u62e9\u5ba1\u6838\u7ed3\u679c"}]},r.a.createElement(C["a"].Group,null,r.a.createElement(C["a"],{value:"PASS"},"\u5ba1\u6838\u901a\u8fc7"),r.a.createElement(C["a"],{value:"REJECT"},"\u5ba1\u6838\u672a\u901a\u8fc7"))),r.a.createElement(E["a"].Item,{wrapperCol:{xs:{span:20,offset:3},sm:{span:20,offset:3}},shouldUpdate:function(e,t){return e.auditState!==t.auditState}},(function(e){var t=e.getFieldValue,a=t("auditState");if(!a)return r.a.createElement(r.a.Fragment,null);var _=function(e,t){return r.a.createElement(E["a"].Item,{name:"reason",rules:e},r.a.createElement(ue["a"].Group,null,r.a.createElement(oe["a"],{gutter:24},t.map((function(e,t){return r.a.createElement(ie["a"],{span:8,key:t+e},r.a.createElement(ue["a"],{value:e},e))})))))};return"PASS"===a?_(null,h["l"]):"REJECT"===a?_([{required:!0,message:"\u9009\u62e9\u5ba1\u6838\u672a\u901a\u8fc7\u539f\u56e0"}],h["o"]):null})))}function Me(e){var t=e.Global,a=e.CDetails;return{Global:t,CDetails:a}}var Pe=Object(l["connect"])(Me)(Ce),Ie=a("yAXW"),ve=a("5+Y2"),ye=a.n(ve),Be=d["a"].confirm;function Te(e){var t=e.className,a=e.CDetails,_=e.dispatch,l=a.curArt,o=a.isEdit,d=(a.category,a.query),p=a.queueContentData,b=a.queueContentId,g=Object(n["useState"])(!1),C=Object(m["a"])(g,2),M=C[0],P=C[1],I=Object(n["useState"])(!1),v=Object(m["a"])(I,2),y=v[0],B=v[1],T=Object(n["useState"])(!1),h=Object(m["a"])(T,2),U=h[0],j=h[1],R=E["a"].useForm(),L=Object(m["a"])(R,1),K=L[0],W={form:K,className:ye.a.operate_container},N=function(){if(o)return u["b"].error("\u5de6\u4fa7\u5185\u5bb9\u533a\u57df\u6b63\u5904\u4e8e\u7f16\u8f91\u72b6\u6001\uff0c\u8bf7\u4fdd\u5b58\uff0c\u6216\u53d6\u53d6\u6d88\u7f16\u8f91");K.validateFields().then((function(e){console.log("values",e);var t=A.a.cloneDeep(l);e.hotValue=e.hotValue[0],e.bigEvent=e.bigEvent[0];var a=e.auditState,n=e.reason,r=Object(s["a"])(e,["auditState","reason"]);_({type:"CDetails/getAuditSave",payload:{typename:"VIDEO"!==l.articleType?"news":"video",data:Object(c["a"])(Object(c["a"])({},p),{},{feedMessage:Object(c["a"])(Object(c["a"])({},t),r),auditState:a,reason:n})},callback:function(e){K.resetFields(),P(!1),e||f["e"].goBack()}})})).catch((function(e){console.log("errorInfo",e)}))},k=function(){_({type:"CDetails/getNewsSkip",payload:{data:{id:b}},callback:function(){B(!1)}})},w=function(){j(!0),Be({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u9000\u51fa\u5417",onOk:function(){console.log("OK"),_({type:"CDetails/getNewsExit",payload:{},callback:function(){j(!1),f["e"].go(-1)}})},onCancel:function(){}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E["a"],W,r.a.createElement("div",{className:O()(t)},r.a.createElement(te,{pForm:K,name:"FormCoverImage"}),r.a.createElement(le,{pForm:K,name:"FormExtraInfo"}),r.a.createElement(Pe,{pForm:K,name:"FormAction"}),r.a.createElement(E["a"].Item,null,r.a.createElement("div",{className:ye.a.button_group},r.a.createElement(Ie["a"],{pathUrl:"/:type/cdetails",text:"\u786e\u5b9a",loading:M,perms:"news:audit",type:"primary",onClick:function(){return N()}}),"search"!==d.routersource&&r.a.createElement(Ie["a"],{pathUrl:"/:type/cdetails",text:"\u8df3\u8fc7",loading:y,perms:"news:skip",onClick:function(){return k()}}),r.a.createElement(i["a"],{loading:U,type:"primary",ghost:!0,onClick:function(){return w()},icon:r.a.createElement(D["a"],null)},"\u9000\u51fa"))))))}function he(e){var t=e.Global,a=e.CDetails;return{Global:t,CDetails:a}}var Ue=Object(l["connect"])(he)(Te),je=a("eoxv"),Re=a.n(je);function Le(e){var t=e.history,a=e.dispatch,l=e.CDetails,i=(l.loading,l.actionLoading);Object(n["useEffect"])((function(){a({type:"CDetails/init",payload:{type:0},callback:function(){}})}),[a]);var c={className:Re.a.content},s={className:Re.a.action,history:t},u={className:Re.a.container};return r.a.createElement("div",u,r.a.createElement(o["a"],c),r.a.createElement("div",{className:Re.a.line}),r.a.createElement(Ue,s),i&&r.a.createElement("div",{className:Re.a.loading},r.a.createElement(_["a"],{size:"large"})))}function Ke(e){var t=e.CDetails;return{CDetails:t}}t["default"]=Object(l["connect"])(Ke)(Le)},ulqF:function(e,t,a){e.exports={container:"container___1LbMQ"}},yAXW:function(e,t,a){"use strict";a("+L6B");var _=a("2/Rp"),n=a("0Owb"),r=a("PpiC"),l=a("q1tI"),o=a.n(l),i=a("9kvl"),c=function(e){var t=Object(i["h"])(),a=e.text,l=e.pathUrl,c=void 0===l?"":l,s=e.perms,u=void 0===s?"":s,E=e.children,m=Object(r["a"])(e,["text","pathUrl","perms","children"]);return o.a.createElement(o.a.Fragment,null,u?o.a.createElement(i["a"],{accessible:t.canReadButton(c,u),fallback:E?"":o.a.createElement(_["a"],Object(n["a"])({},m,{disabled:!0}),a)},E||o.a.createElement(_["a"],m,a)):E||o.a.createElement(_["a"],m,a))};t["a"]=c},zVwb:function(e,t,a){e.exports={normal:"normal___1IPtL",title:"title___2rJvL",content:"content___3dB7X",source:"source___1yanX","content-text":"content-text___24V0N","content-detail":"content-detail___3WhMn"}}}]);