(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"3ZqS":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("wx14"),_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("rePB"),antd_es_button_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("+L6B"),antd_es_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2/Rp"),antd_es_date_picker_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("iQDF"),antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("+eQT"),antd_es_input_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5NDa"),antd_es_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("5rEg"),_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("Ff2n"),antd_es_form_style__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("y8nQ"),antd_es_form__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("Vl3Y"),_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ODXe"),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__),umi__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("9kvl"),classnames__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("TSYQ"),classnames__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_14__),moment__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("wd/R"),moment__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_15__),lodash__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("LvDl"),lodash__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__),_components_MediaComponents__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("PWmT"),_components_Editor_index2_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("oz3V"),_utils_utils_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("+n12"),_components_WrapAuth__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("yAXW"),_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("S6jO"),dateFormat="YYYY-MM-DD HH:mm:ss";function Content(props){var _Form$useForm=antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].useForm(),_Form$useForm2=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["a"])(_Form$useForm,1),selfForm=_Form$useForm2[0],ueRef=Object(react__WEBPACK_IMPORTED_MODULE_12__["useRef"])(null),_useState=Object(react__WEBPACK_IMPORTED_MODULE_12__["useState"])(""),_useState2=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["a"])(_useState,2),editorText=_useState2[0],setEditorText=_useState2[1],className=props.className,CDetails=props.CDetails,dispatch=props.dispatch,curArt=CDetails.curArt,isEdit=CDetails.isEdit,queueContentId=CDetails.queueContentId,newsDataType=CDetails.newsDataType,forbiddenWordList=CDetails.forbiddenWordList,sensitiveWordList=CDetails.sensitiveWordList,hotWord=CDetails.hotWord,personalWord=CDetails.personalWord;Object(react__WEBPACK_IMPORTED_MODULE_12__["useEffect"])((function(){setEditorText(curArt.content)}),[curArt.content]),Object(react__WEBPACK_IMPORTED_MODULE_12__["useEffect"])((function(){selfForm.setFieldsValue({title:curArt.title,originName:curArt.originName,datetime:moment__WEBPACK_IMPORTED_MODULE_15___default()(curArt.pubTime)})}),[isEdit]);var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_12__["useState"])({initialFrameWidth:"100%",initialFrameHeight:400}),_useState4=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["a"])(_useState3,1),config=_useState4[0],_setContent=function(e){setEditorText(e)},changeIsEdit=function(e){e||selfForm.resetFields(),dispatch({type:"CDetails/save",payload:{isEdit:e}})},formItemLayout={form:selfForm,labelAlign:"left",labelCol:{span:3},wrapperCol:{span:20}},handelSaveArt=function(e){if(e.content=editorText,!lodash__WEBPACK_IMPORTED_MODULE_16___default.a.isEmpty(e.datetime)){var t=e.datetime.format(dateFormat);e.pubTime=new Date(t.replace(/-/g,"/")).getTime()}delete e.datetime;e.id;var a=Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_8__["a"])(e,["id"]);dispatch({type:"CDetails/getNewsSaveContent",payload:{content:a,id:queueContentId}}),changeIsEdit(!1)},getHaderTpl=function(){var e;return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].header},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"]["form-box"]},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\u6807\u9898",name:"title",initialValue:curArt.title,shouldUpdate:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]},isEdit?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_7__["a"],{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}):react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h3",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].title},curArt.title)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\xa0\xa0\xa0ID",name:"id",initialValue:curArt.id},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",null,curArt.id)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\u6765\u6e90",name:"originName",initialValue:curArt.originName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6765\u6e90"}]},isEdit?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_7__["a"],{placeholder:"\u8bf7\u8f93\u5165\u6765\u6e90"}):react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].title},curArt.originName)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"].Item,{label:"\u65f6\u95f4",name:"datetime",initialValue:moment__WEBPACK_IMPORTED_MODULE_15___default()(curArt.pubTime),rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}]},isEdit?react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__["a"],{showTime:!0,format:dateFormat}):react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].title},_utils_utils_js__WEBPACK_IMPORTED_MODULE_19__["c"].formatDate(curArt.pubTime)))),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"]["button-box"]},!isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_WrapAuth__WEBPACK_IMPORTED_MODULE_20__["a"],{pathUrl:"/:type/cdetails",text:"\u4fee\u6539",perms:"news:edit",type:"primary",size:"small",onClick:function(){changeIsEdit(!0)}}),isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"]["button-group"]},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["a"],(e={type:"primary",size:"small"},Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(e,"type","primary"),Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(e,"htmlType","submit"),e),"\u786e\u5b9a"),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["a"],{size:"small",onClick:function(){changeIsEdit(!1)}},"\u53d6\u6d88"))))},getContentHtml=function getContentHtml(textHtml,List){if(textHtml)return List.forEach((function(item,index){if(item.value.length>0){var data=item.value;data.map((function(v,i){var reg=/>[^<]+</g;textHtml=textHtml.replace(eval(reg),(function(tag){var regTag="/".concat(v,"/g"),text=tag.replace(eval(regTag),'<span style="background:'.concat(item.color,';color:#ffffff;padding:0 5px;margin:0 2px;">').concat(v,"</span>"));return text}))}))}})),textHtml},list=[{name:"forbiddenWordList",color:"#ff1840",value:forbiddenWordList},{name:"hotWord",color:"#1890ff",value:hotWord},{name:"sensitiveWordList",color:"#ff6600",value:sensitiveWordList},{name:"personalWord",color:"#00ff97",value:personalWord}],textHtml={__html:getContentHtml(curArt.content,list)},audioProps={url:curArt.mediaInfo&&curArt.mediaInfo.audios},videoProps={source:curArt.mediaInfo&&curArt.mediaInfo.videos&&curArt.mediaInfo.videos[1].src,poster:curArt.mediaInfo&&curArt.mediaInfo.images||[],duration:curArt.mediaInfo&&curArt.mediaInfo.videos&&curArt.mediaInfo.videos[1].duration},getContentTpl=function(){return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"]["content-container"]},"AUDIO"===newsDataType&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_MediaComponents__WEBPACK_IMPORTED_MODULE_17__["a"],audioProps),"VIDEO"===newsDataType&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h4",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].title},"\u89c6\u9891\u8be6\u60c5 : "),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_MediaComponents__WEBPACK_IMPORTED_MODULE_17__["b"],videoProps)),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_12___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:""},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("h3",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].title},"\u6b63\u6587\u8be6\u60c5 : "),isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_components_Editor_index2_js__WEBPACK_IMPORTED_MODULE_18__["a"],{id:"container",ref:ueRef,config:config,initData:editorText,setContent:function(e){return _setContent(e)}})),!isEdit&&react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"]["content-box"]},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{className:_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"]["content-text"],dangerouslySetInnerHTML:textHtml})))))};return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_10__["a"],Object(_Users_jsp_Documents_rmkj_projectCode_new_idata_audit_view_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["a"])({},formItemLayout,{onFinish:handelSaveArt,className:classnames__WEBPACK_IMPORTED_MODULE_14___default()(className,_index_module_less_modules__WEBPACK_IMPORTED_MODULE_21__["a"].container)}),getHaderTpl(),getContentTpl())}function mapStateToProps(e){var t=e.CDetails;return{CDetails:t}}__webpack_exports__["a"]=Object(umi__WEBPACK_IMPORTED_MODULE_13__["c"])(mapStateToProps)(Content)},"6ZGt":function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"i",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"n",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"m",(function(){return E})),a.d(t,"p",(function(){return m})),a.d(t,"q",(function(){return d})),a.d(t,"r",(function(){return p})),a.d(t,"j",(function(){return A})),a.d(t,"k",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return O})),a.d(t,"l",(function(){return b})),a.d(t,"o",(function(){return D}));var n="",_="".concat(n,"/audit/file/upload/image"),r=a("H+gj"),o=["jpg","png","jpeg","gif"],c=5,l="YYYY-MM-DD HH:mm:ss",i={"":"\u5168\u90e8",NEWS:"\u56fe\u6587",VIDEO:"\u89c6\u9891",AUDIO:"\u97f3\u9891",ATLAS:"\u56fe\u96c6",TEXT:"\u7eaf\u6587\u672c"},s={"":"\u5168\u90e8",1:"\u5148\u5ba1\u540e\u53d1",2:"\u5148\u53d1\u540e\u5ba1",3:"\u514d\u5ba1"},u={"":"\u5168\u90e8",1:"1\u5929",3:"3\u5929",7:"7\u5929",15:"15\u5929",30:"30\u5929",60:"60\u5929",90:"90\u5929"},E={"":"\u5168\u90e8",0:"\u542f\u7528",1:"\u505c\u7528"},m={"":"\u5168\u90e8",0:"\u79bb\u7ebf",1:"\u5728\u7ebf",2:"\u6ce8\u9500"},d={"":"\u5168\u90e8",0:"\u6709\u6548",1:"\u6ce8\u9500"},p={"":"\u5168\u90e8",ONLINE:"\u4e0a\u67b6",OFFLINE:"\u4e0b\u67b6"},A={"":"\u5168\u90e8",dt:"\u65f6\u95f4",entry_queue_count:"\u5165\u5ba1\u91cf",audit_count:"\u5ba1\u6838\u91cf",audit_passed_count:"\u5ba1\u6838\u901a\u8fc7\u91cf"},f={desc:"\u964d\u5e8f",asc:"\u5347\u5e8f"},g={"":"\u5168\u90e8",INIT:"\u5f85\u5ba1\u6838",PASS:"\u5ba1\u6838\u901a\u8fc7",REJECT:"\u5ba1\u6838\u672a\u901a\u8fc7"},O={"":"\u5168\u90e8","\u5ba1\u6838\u901a\u8fc7":"\u5ba1\u6838\u901a\u8fc7","\u5ba1\u6838\u672a\u901a\u8fc7":"\u5ba1\u6838\u672a\u901a\u8fc7"},b=["\u53bb\u6742\u4e0d\u51c0","\u5e7f\u544a"],D=["\u6587\u7ae0\u8d28\u91cf\u5dee","\u5e7f\u544a","\u8f6f\u6587","\u5c01\u56fe","\u53bb\u6742\u4e0d\u51c0","\u6293\u53d6\u4e0d\u5168/\u9519\u8bef","\u7248\u6743\u95ee\u9898","\u5176\u4ed6"]},"H+gj":function(e,t){e.exports="data:image/png;base64,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"},PWmT:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return p}));var n=a("q1tI"),_=a.n(n),r=a("TSYQ"),o=a.n(r),c={container:"container___1LbMQ"};function l(e){var t=e.className,a=e.url;return _.a.createElement("div",{className:o()(t,c.container)},_.a.createElement("audio",{src:a,controls:!0},"\u6d4f\u89c8\u5668\u7248\u672c\u8fc7\u4f4e\uff0c\u4e0d\u652f\u6301audio\u6807\u7b7e"))}var i=l,s=a("ODXe"),u={container:"container___1I5Dl","video-player":"video-player___1tRzO","video-overlay":"video-overlay___M15oG","btn-play":"btn-play___3Pzif","duration-wrap":"duration-wrap___2UcXe",icon:"icon___2JdVu",duration:"duration___We8yd"},E=a("LvDl"),m=a.n(E);function d(e){var t=Object(n["useRef"])(null),a=Object(n["useState"])(!0),r=Object(s["a"])(a,2),c=r[0],l=r[1],i=Object(n["useState"])(!1),E=Object(s["a"])(i,2),d=E[0],p=E[1],A=e.className,f=e.source,g=e.poster,O=e.duration,b=function(){var e=t.current;e.play(),l(!1),p(!0)};return _.a.createElement("div",{className:o()(A,u["video-player"])},_.a.createElement("video",{ref:t,controls:d,controlsList:"nodownload",src:f,poster:!m.a.isEmpty(g)&&g[1].src||""}),c&&_.a.createElement("div",{className:u["video-overlay"],style:{backgroundImage:"url(".concat(g,")")}},_.a.createElement("a",{className:u["btn-play"],onClick:function(){return b()}}),_.a.createElement("span",{className:u["duration-wrap"]},_.a.createElement("i",{className:u["icon"]}),_.a.createElement("span",{className:u["duration"]},O))))}var p=d},S6jO:function(e,t,a){"use strict";t["a"]={container:"container___oUC8k",header:"header___Mx5Mu","form-box":"form-box___1SOFK","button-box":"button-box___1WhUC","button-group":"button-group___YO6Kz","content-container":"content-container___1zdMo",title:"title___2o8T1","content-box":"content-box___2QT3v","content-text":"content-text___8xGQE"}},V0Yb:function(e,t,a){e.exports=a.p+"static/iPhone_bg.9f24fe6d.svg"},oz3V:function(e,t,a){"use strict";var n=a("q1tI"),_=a.n(n),r=null,o=[["source","|","undo","redo","|","bold","italic","underline","strikethrough","removeformat","blockquote","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","|","paragraph","fontfamily","fontsize","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","link","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage"]];function c(e,t){Object(n["useEffect"])((function(){return window.UE.getEditor&&a(e.initData,e.config,e.setContent),function(){r.destroy(e.id);var t=window.document.querySelector("#ueditor-container");t.parentElement.removeChild(t)}}),[]);var a=function(e,t,a){r=window.UE&&window.UE.getEditor("ueditor-container",{toolbars:o,maximumWords:1e6,scaleEnabled:!1,autoFloatEnabled:!1,autoHeightEnabled:!1,initialFrameHeight:t&&t.initialFrameHeight||450,initialFrameWidth:t&&t.initialFrameWidth||"100%",zIndex:1}),r.ready((function(){e&&r.setContent(e)})),r.addListener("blur",(function(){a(r.getContent())}))};return Object(n["useImperativeHandle"])(t,(function(){return{getUEContent:function(){return r.getContent()}}})),_.a.createElement("script",{id:"ueditor-container",type:"text/plain"})}t["a"]=Object(n["forwardRef"])(c)},tvpq:function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),_=a("q1tI"),r=a.n(_),o=a("9kvl"),c=a("3ZqS"),l=(a("+L6B"),a("2/Rp")),i=a("VTBJ"),s=a("Ff2n"),u=(a("miYZ"),a("tsqr")),E=(a("y8nQ"),a("Vl3Y")),m=a("ODXe"),d=(a("2qtc"),a("kLXV")),p=a("LvDl"),A=a.n(p),f=a("TSYQ"),g=a.n(f),O=a("GYYy"),b=(a("DZo9"),a("8z0m")),D=(a("7Kak"),a("9yH6")),C=(a("XCrF"),a("1GRj")),M=a("o0o1"),I=a.n(M),P=a("HaE+"),y=a("KQm4"),v=a("O7uO"),T=a("xvlK"),B=a("6ZGt"),h=a("+n12"),j={normal:"normal___1IPtL",title:"title___2rJvL",content:"content___3dB7X",source:"source___1yanX","content-text":"content-text___24V0N","content-detail":"content-detail___3WhMn"};function U(e){var t=e.curArt,a=void 0===t?{}:t,n=function(e){if(e)return e.replace(/<[^>]+>/gi,(function(e){var t=/style\s*?=\s*?([\u2018"])[\s\S]*?\1/;e=e.replace(t,"");return e.indexOf("<img")>-1||(e=e.replace(/width/gi,""),e=e.replace(/height/gi,"")),e}))},_={__html:n(a.content)||""};return r.a.createElement("div",{className:j.normal},r.a.createElement("p",{className:j.title},a.title),r.a.createElement("p",{className:j.source},a.pubtime&&r.a.createElement("span",null,h["c"].formatDate(a.pubtime)),a.sourceName.length>5&&r.a.createElement("br",null),r.a.createElement("span",null," \u6765\u6e90\uff1a",a.sourceName||a.sourceName)),r.a.createElement("div",{className:j["content-detail"],dangerouslySetInnerHTML:_}))}var L=U,R=a("bTu8"),K=(a("J/SH"),{container:"container___3QQbQ",slider:"slider___3swnj","content-text":"content-text___2j2Ou",text:"text___2HH4O",number:"number___3Vpd8"});function W(e){var t=e.curArt,a=t.mediaInfo,n=t.title,o=Object(_["useState"])(!1),c=Object(m["a"])(o,2),l=c[0],i=c[1],s=Object(_["useState"])([]),u=Object(m["a"])(s,2),E=u[0],d=u[1],p=function(){new R["a"](".swiper-container",{direction:"horizontal",loop:!0})};return Object(_["useEffect"])((function(){p()}),[]),Object(_["useEffect"])((function(){console.log("mediaInfo.images",a.images),d(a.images),p()}),[JSON.stringify(a)]),r.a.createElement("div",{className:g()("swiper-container",K.container)},r.a.createElement("div",{className:g()("swiper-wrapper"),onClick:function(){i(!l)}},E.length&&E.map((function(e,t){return r.a.createElement("div",{key:t,className:g()("swiper-slide",K.slider)},r.a.createElement("img",{src:e.src}))}))),r.a.createElement("div",{className:K["content-text"]},l&&r.a.createElement("p",{className:K.text},n),!l&&r.a.createElement("p",{className:K.number},"1/5")),r.a.createElement("div",{className:g()("swiper-pagination")}),r.a.createElement("div",{className:g()("swiper-button-prev")}),r.a.createElement("div",{className:g()("swiper-button-next")}),r.a.createElement("div",{className:g()("swiper-scrollbar")}))}var N=W,Q=a("PWmT"),k={normal:"normal___2aeKp",title:"title___2f7-z",content:"content___2EYQV",source:"source___3itpU","content-text":"content-text___3GR1n","content-detail":"content-detail___WDUVV"};function w(e){var t=e.curArt,a=void 0===t?{}:t,n={className:k.video_container,source:a.mediaInfo&&a.mediaInfo.videos[1].src,poster:a.mediaInfo&&a.mediaInfo.images||[],duration:a.mediaInfo&&a.mediaInfo.videos[1].duration},_=function(e){if(e)return e.replace(/<[^>]+>/gi,(function(e){var t=/style\s*?=\s*?([\u2018"])[\s\S]*?\1/;e=e.replace(t,"");return e.indexOf("<img")>-1||(e=e.replace(/width/gi,""),e=e.replace(/height/gi,"")),e}))},o={__html:_(a.content)||""};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q["b"],n),r.a.createElement("div",{className:k.normal},r.a.createElement("p",{className:k.title},a.title),r.a.createElement("p",{className:k.source},a.createtime&&r.a.createElement("span",null,h["c"].formatDate(a.createtime)),a.origin&&a.origin.length>5&&r.a.createElement("br",null),r.a.createElement("span",null," \u6765\u6e90\uff1a",a.origin||a.originName)),r.a.createElement("div",{className:k["content-detail"],dangerouslySetInnerHTML:o})))}var S=w,x={btn:"btn___2h0zq",container:"container___2ymtD",bg_box:"bg_box___3Umbr",dark:"dark___1xhEX",mobile:"mobile___1kb1D","body-box":"body-box___2zl5l"},F=a("V0Yb");function q(e){var t=Object(_["useState"])(!1),a=Object(m["a"])(t,2),n=a[0],o=a[1],c=e.title,u=e.curArt,E=void 0===u?{}:u,p=e.newsDataType,A=Object(s["a"])(e,["title","curArt","newsDataType"]),f=Object(i["a"])({title:c,visible:n,centered:!0,destroyOnClose:!0,onCancel:function(){o(!n)}},A);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l["a"],{className:x.btn,type:"primary",onClick:function(){o(!n)}},c),r.a.createElement(d["a"],f,r.a.createElement("div",{className:x.container},r.a.createElement("div",{className:g()(x.bg_box,"ATLAS"===p?x.dark:"")}),r.a.createElement("div",{className:x.mobile,style:{backgroundImage:"url("+F+")"}},r.a.createElement("div",{className:x["body-box"]},("NEWS"===p||"TEXT"===p)&&r.a.createElement(L,{curArt:E}),"ATLAS"===p&&r.a.createElement(N,{curArt:E}),"VIDEO"===p&&r.a.createElement(S,{curArt:E}))))))}var J=q,H={content:"content___UMpkx",button_list:"button_list___1YCmi",images_list:"images_list___3tv4Y",item:"item___1TfRE",upload_list:"upload_list___2uSqM",button_header:"button_header___3XSS3",footer:"footer___3_U2S"};a("8dk+");function Y(e){var t=e.pForm,a=e.CDetails,n=a.curArt,o=a.newsDataType,c=function(e){var t=[];return A.a.isEmpty(e)?[]:(Object.keys(e).map((function(a){e[a].uid=a,e[a].url=e[a].originalUrl||e[a].src||e[a].imageKey,t.push(e[a])})),t)},i=Object(_["useState"])([]),s=Object(m["a"])(i,2),p=s[0],f=s[1],g=n.mediaInfo&&c(n.mediaInfo.images)||[],O=Object(_["useState"])(!1),M=Object(m["a"])(O,2),h=M[0],j=M[1],U=Object(_["useState"])(0),L=Object(m["a"])(U,2),R=L[0],K=L[1],W=Object(_["useState"])(3),N=Object(m["a"])(W,2),Q=N[0],k=N[1],w=Object(_["useState"])([]),S=Object(m["a"])(w,2),x=S[0],F=S[1],q=Object(_["useState"])(g||[]),Y=Object(m["a"])(q,2),z=Y[0],G=Y[1],V=Object(_["useState"])(!1),X=Object(m["a"])(V,2),Z=X[0],$=X[1],ee=Object(_["useState"])("cover"),te=Object(m["a"])(ee,2),ae=te[0],ne=te[1],_e=Object(_["useState"])(""),re=Object(m["a"])(_e,2),oe=re[0],ce=re[1];Object(_["useEffect"])((function(){t.setFieldsValue({covers:c(n.covers)}),F(c(n.covers)),f(c(n.covers))}),[n.covers]),Object(_["useEffect"])((function(){n.mediaInfo&&G(c(n.mediaInfo.images)),A.a.isEmpty(n.covers)&&n.mediaInfo&&(t.setFieldsValue({covers:c(n.mediaInfo.images).slice(0,3)}),F(c(n.mediaInfo.images).slice(0,3)),f(c(n.mediaInfo.images).slice(0,3)))}),[n.mediaInfo]);var le=function(e){if(k(e),1===e)return F(p[0]?[p[0]]:[]);F(Object(y["a"])(p))},ie=function(e){if(!B["b"])return!0;var t=new RegExp(".(".concat(B["b"].join("|"),")$"),"i");return t.test(e.type)?!B["i"]||(e.size/1024/1024<=B["i"]||(u["b"].error("\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7".concat(B["i"],"M")),!1)):(u["b"].error("\u6587\u4ef6\u7c7b\u578b\u53ea\u652f\u6301".concat(B["b"].join(","),"\u7c7b\u578b")),!1)},se=function(e){var t=e.file.status,a=void 0===t?"":t;"uploading"!==a&&F(Object(y["a"])(e.fileList)),"done"===a?F([].concat(Object(y["a"])(x),[{uid:new Date,url:e.file.response.data.fileUrl,imageKey:e.file.response.data.fileUrl,originalUrl:e.file.response.data.fileUrl,width:e.file.response.data.width,height:e.file.response.data.height}])):"error"===a&&u["b"].error("".concat(e.file.name," file upload failed."))},ue=function(){var e=Object(P["a"])(I.a.mark((function e(t){return I.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.url){e.next=2;break}return e.abrupt("return");case 2:$(!0),ce(t.url);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee={title:"\u9884\u89c8\u6548\u679c",footer:null,width:420,curArt:n,newsDataType:o};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:H.content},r.a.createElement("img",{width:240,height:180,src:!A.a.isEmpty(x)&&x[0]&&x[0].originalUrl||!A.a.isEmpty(x)&&x[0]&&x[0].src||B["g"]}),r.a.createElement("div",{className:H.button_list},r.a.createElement(l["a"],{type:"primary",disabled:A.a.isEmpty(x)||!x[2],onClick:function(){j(!0),K(0),ne("cover")}},"\u4e09\u56fe"),r.a.createElement(l["a"],{type:"primary",onClick:function(){j(!0),K(1)}},"\u4fee\u6539\u5c01\u9762\u56fe"),r.a.createElement(l["a"],{type:"primary",onClick:function(){j(!0),K(2),ne("contentImages")}},"\u6b63\u6587\u5168\u56fe"),r.a.createElement(J,Ee))),r.a.createElement(E["a"].Item,{name:"covers",noStyle:!0},r.a.createElement(d["a"],{title:2===R?"\u6b63\u6587\u5168\u56fe":"\u5c01\u9762\u56fe",centered:!0,destroyOnClose:!0,visible:h,onCancel:function(){j(!1),ne("cover"),2!==R&&F(Object(y["a"])(x))},footer:null},(0===R||2===R)&&r.a.createElement("div",{className:H.images_list},"cover"!==ae||A.a.isEmpty(x)?"cover"===ae&&r.a.createElement("p",null,"\u6682\u65e0\u5c01\u9762\u56fe"):x.map((function(e,t){return r.a.createElement(C["a"],{className:H.item,key:t,width:120,height:90,alt:"\u5c01\u9762\u56fe",src:e.originalUrl,fallback:B["g"]})})),"contentImages"!==ae||A.a.isEmpty(z)?"contentImages"===ae&&r.a.createElement("p",null,"\u6682\u65e0\u5185\u5bb9\u56fe\u7247"):z.map((function(e,t){return r.a.createElement(C["a"],{className:H.item,key:t,width:120,height:90,alt:"\u5c01\u9762\u56fe",src:e.src,fallback:B["g"]})}))),1===R&&r.a.createElement("div",{className:H.upload_list},r.a.createElement(D["a"].Group,{className:H.button_header,name:"image-number",defaultValue:Q,onChange:function(e){return le(e.target.value)}},r.a.createElement(D["a"],{value:1},"\u5355\u56fe"),r.a.createElement(D["a"],{value:3},"\u4e09\u56fe")),r.a.createElement(v["a"],{rotate:!0},r.a.createElement(b["a"],{action:B["a"],listType:"picture-card",fileList:c(x)||[],beforeUpload:ie,onChange:se,onPreview:ue},!A.a.isEmpty(x)&&c(x).length>=Q?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(T["a"],null),r.a.createElement("div",{style:{marginTop:8}},"Upload"))))),r.a.createElement(d["a"],{visible:Z,title:"\u56fe\u7247\u9884\u89c8",footer:null,onCancel:function(){return $(!1)}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:oe})),2!==R&&r.a.createElement("div",{className:H.footer},0===R?r.a.createElement(l["a"],{type:"primary",onClick:function(){return K(1)}},"\u4fee\u6539\u5c01\u9762\u56fe"):r.a.createElement(l["a"],{type:"primary",onClick:function(){t.setFieldsValue({covers:x}),j(!1)}},"\u786e\u5b9a"),r.a.createElement(l["a"],{onClick:function(){return j(!1)}},"\u5173\u95ed")))))}function z(e){var t=e.CDetails;return{CDetails:t}}var G=Object(o["c"])(z)(Y),V=a("/MKj"),X={container:"container____cJ29"};function Z(e){var t=e.className,a=e.CDetails.curArt;return r.a.createElement("div",{className:g()(t,X["container"])},r.a.createElement("p",null,r.a.createElement("span",null,"\u6293\u53d6\u6765\u6e90ID: ",a.sourceName||""),r.a.createElement("span",null,"\u6293\u53d6\u6765\u6e90\uff1a ",a.sourceId||"")),r.a.createElement("p",null,"\u539f\u6587\u94fe\u63a5\uff1a ",r.a.createElement("a",{href:a.originUrl||""},a.originUrl||"")),r.a.createElement("p",null,"\u6458\u8981\uff1a ",a.summary||""))}function $(e){var t=e.CDetails;return{CDetails:t}}var ee=Object(V["c"])($)(Z),te=(a("14J3"),a("BMrR")),ae=(a("jCWc"),a("kPKH")),ne=(a("5NDa"),a("5rEg")),_e=(a("sRBo"),a("kaz8")),re=a("wx14"),oe=(a("+BJd"),a("mr32")),ce=(a("OaEy"),a("2fM7")),le=ce["a"].Option;function ie(e){var t=e.dispatch,a=e.type,n=e.pForm,o=n.resetFields,c=n.setFieldsValue,l=n.getFieldsValue,i=e.Global,s=i.firstCategory,u=i.secondCategory,m=i.thirdCategory,d={allowClear:!0,style:{width:"33%"}};Object(_["useEffect"])((function(){l().categoryFirst&&t({type:"Global/getSecondCategory",payload:{id:l().categoryFirst,type:a}})}),[l().categoryFirst]),Object(_["useEffect"])((function(){l().categorySecond&&t({type:"Global/getThirdCategory",payload:{id:l().categorySecond,type:a}})}),[l().categorySecond]);var p=function(e,n){if("firstCategoryId"===n)o(["categorySecond","categoryThird"]),c({categorySecond:null,categoryThird:null}),t({type:"Global/getSecondCategory",payload:{id:e||0,type:a}});else{if(o(["categoryThird"]),c({categoryThird:null}),!e)return;t({type:"Global/getThirdCategory",payload:{id:e,type:a}})}},f=function(e,t){p(e,t)};return r.a.createElement(ne["a"].Group,{compact:!0},r.a.createElement(E["a"].Item,{key:"categoryFirst",name:"categoryFirst",noStyle:!0},r.a.createElement(ce["a"],Object(re["a"])({placeholder:"\u4e00\u7ea7\u5206\u7c7b"},d,{allowClear:!1,onChange:function(e){return f(e,"firstCategoryId")}}),!A.a.isEmpty(s)&&s.map((function(e,t){return r.a.createElement(le,{key:e.code,value:e.code.toString()},e.name)})))),r.a.createElement(E["a"].Item,{key:"categorySecond",name:"categorySecond",noStyle:!0},r.a.createElement(ce["a"],Object(re["a"])({placeholder:"\u4e8c\u7ea7\u5206\u7c7b"},d,{onChange:function(e){return f(e,"secondCategoryId")}}),!A.a.isEmpty(u)&&u.map((function(e,t){return r.a.createElement(le,{key:e.code,value:e.code.toString()},e.name)})))),r.a.createElement(E["a"].Item,{key:"categoryThird",name:"categoryThird",noStyle:!0},r.a.createElement(ce["a"],Object(re["a"])({placeholder:"\u4e09\u7ea7\u5206\u7c7b"},d,{onChange:function(e){return f(e,"thirdCategoryId")}}),!A.a.isEmpty(m)&&m.map((function(e,t){return r.a.createElement(le,{key:e.code,value:e.code.toString()},e.name)})))))}function se(e){var t=e.Global,a=e.CDetails;return{Global:t,CDetails:a}}var ue=Object(o["c"])(se)(ie),Ee={container:"container___1GeKM",category:"category___1yMWt","more-select":"more-select___3GZtb",tags_input:"tags_input___DjwtY",p_text:"p_text___1u_Mj"},me={labelCol:{span:8},wrapperCol:{span:14}};function de(e){var t=e.name,a=void 0===t?"FormAction":t,n=e.pForm,o=e.className,c=e.CDetails,s=c.curArt,d=c.newsDataType,p=c.auditState,f=c.reason,O=c.forbiddenWordList,b=c.sensitiveWordList,C=c.hotWord,M=c.personalWord;Object(_["useEffect"])((function(){n.setFieldsValue({isDup:s.isDup||0,hotValue:[s.hotValue]||!1,bigEvent:[s.bigEvent]||!1,tags:s.tags||[],auditState:"PASS"!==p&&"REJECT"!==p?null:p,reason:f||[],categoryFirst:s.categoryFirst||null,categorySecond:s.categorySecond||null,categoryThird:s.categoryThird||null})}),[JSON.stringify(s)]);var I=function(e){return A.a.isEmpty(e)?[]:e.map((function(e){return{type:0,text:e}}))},P=Object(_["useRef"])(null),v=Object(_["useState"])([]),h=Object(m["a"])(v,2),j=h[0],U=h[1],L=Object(_["useState"])(!1),R=Object(m["a"])(L,2),K=R[0],W=R[1];Object(_["useEffect"])((function(){U(I(s.tags))}),[s.tags]);var N={labelAlign:"left",labelCol:{span:3},wrapperCol:{span:21}},Q=function(e,t){var a=A.a.cloneDeep(j);a.splice(t,1),U(a),n.setFieldsValue({tags:Object(y["a"])(a)})},k=function(){if(j.length>=10)return u["b"].error("\u6700\u591a\u652f\u630110\u4e2a\u6807\u7b7e");var e=P.current.state.value;if(!e)return!1;if(S(e)>50)return u["b"].error("\u60a8\u8f93\u5165\u7684\u6587\u5b57\u8fc7\u957f\uff0c\u6700\u591a\u53ef\u8f93\u516550\u4e2a\u5b57");var t=j.find((function(t){return t.text===e}));if(t)return u["b"].error("\u8be5\u6807\u7b7e\u5df2\u5b58\u5728\uff0c\u8bf7\u4e0d\u8981\u91cd\u590d\u521b\u5efa");U([].concat(Object(y["a"])(j),[{text:e}])),n.setFieldsValue({tags:[].concat(Object(y["a"])(j),[{type:0,text:e}])}),W(!1)},w=function(){W(!1)},S=function(e){return Math.ceil(x(e)/2)},x=function(e){return e.replace(/[^\x00-\xff]/g,"aa").length},F=Object(i["a"])(Object(i["a"])({name:a,form:n},N),{},{className:g()(o,Ee.container)});return r.a.createElement(E["a"],Object(re["a"])({},F,{from:n}),r.a.createElement(E["a"].Item,{label:"\u5206\u7c7b"},r.a.createElement(ue,{pForm:n,type:d})),r.a.createElement(E["a"].Item,{label:"\u8fdd\u7981\u8bcd"},r.a.createElement("p",{className:Ee.p_text},A.a.isEmpty(O)?r.a.createElement("span",null,"\u6682\u65e0"):O.map((function(e,t){return r.a.createElement(oe["a"],{key:t,color:"#ff1840"},e)})))),r.a.createElement(E["a"].Item,{label:"\u654f\u611f\u8bcd"},r.a.createElement("p",{className:Ee.p_text},A.a.isEmpty(b)?r.a.createElement("span",null,"\u6682\u65e0"):b.map((function(e,t){return r.a.createElement(oe["a"],{key:t,color:"#ff6600"},e)})))),r.a.createElement(E["a"].Item,{label:"\u70ed\u8bcd"},r.a.createElement("p",{className:Ee.p_text},A.a.isEmpty(C)?r.a.createElement("span",null,"\u6682\u65e0"):C.map((function(e,t){return r.a.createElement(oe["a"],{key:t,color:"#1890ff"},e)})))),r.a.createElement(E["a"].Item,{label:"\u4eba\u7269\u8bcd"},r.a.createElement("p",{className:Ee.p_text},A.a.isEmpty(M)?r.a.createElement("span",null,"\u6682\u65e0"):M.map((function(e,t){return r.a.createElement(oe["a"],{key:t,color:"#00ff97"},e)})))),r.a.createElement(E["a"].Item,Object(re["a"])({},me,{label:"\u662f\u5426\u53ef\u91cd\u590d\u5206\u53d1",name:"isDup"}),r.a.createElement(D["a"].Group,null,r.a.createElement(D["a"],{value:0},"\u662f"),r.a.createElement(D["a"],{value:1},"\u5426"))),r.a.createElement(E["a"].Item,null,r.a.createElement(E["a"].Item,{noStyle:!0,name:"hotValue"},r.a.createElement(_e["a"].Group,null,r.a.createElement(_e["a"],{value:"1"},"\u70ed\u70b9"))),r.a.createElement(E["a"].Item,{noStyle:!0,name:"bigEvent"},r.a.createElement(_e["a"].Group,null,r.a.createElement(_e["a"],{value:"1"},"\u5927\u4e8b\u4ef6")))),r.a.createElement(E["a"].Item,{label:"\u6807\u7b7e",name:"tags",help:"\u6700\u591a\u652f\u630110\u4e2a\u6807\u7b7e\uff0c\u5355\u4e2a50\u4e2a\u5b57\u7b26"},r.a.createElement(r.a.Fragment,null,j.map((function(e,t){var a=r.a.createElement(oe["a"],{key:t+e.text,closable:!0,color:1===e.type?"green":"",onClose:function(){return Q(e,t)}},e.text);return a})),K&&r.a.createElement("div",{className:Ee.tags_input},r.a.createElement(ne["a"],{ref:P,type:"text",size:"small"}),r.a.createElement(l["a"],{size:"small",type:"primary",onClick:function(){return k()}},"\u4fdd\u5b58"),"\xa0\xa0\xa0\xa0",r.a.createElement(l["a"],{size:"small",onClick:function(){return w()}},"\u53d6\u6d88")),!K&&r.a.createElement(l["a"],{type:"primary",size:"small",onClick:function(){W(!0)},style:{margin:"5px"},icon:r.a.createElement(T["a"],null)},"\u65b0\u589e"))),r.a.createElement(E["a"].Item,{label:"\u5ba1\u6838\u7ed3\u679c",labelCol:{span:6},name:"auditState",rules:[{required:!0,message:"\u9009\u62e9\u5ba1\u6838\u7ed3\u679c"}]},r.a.createElement(D["a"].Group,null,r.a.createElement(D["a"],{value:"PASS"},"\u5ba1\u6838\u901a\u8fc7"),r.a.createElement(D["a"],{value:"REJECT"},"\u5ba1\u6838\u672a\u901a\u8fc7"))),r.a.createElement(E["a"].Item,{shouldUpdate:function(e,t){return e.auditState!==t.auditState}},(function(e){var t=e.getFieldValue,a=t("auditState");if(!a)return r.a.createElement(r.a.Fragment,null);var n=function(e,t){return r.a.createElement(E["a"].Item,{wrapperCol:{xs:{span:20,offset:3},sm:{span:20,offset:3}},name:"reason",rules:e},r.a.createElement(_e["a"].Group,null,r.a.createElement(te["a"],{gutter:24},t.map((function(e,t){return r.a.createElement(ae["a"],{span:8,key:t+e},r.a.createElement(_e["a"],{value:e},e))})))))};return"PASS"===a?n(null,B["l"]):"REJECT"===a?n([{required:!0,message:"\u9009\u62e9\u5ba1\u6838\u672a\u901a\u8fc7\u539f\u56e0"}],B["o"]):null})))}function pe(e){var t=e.Global,a=e.CDetails;return{Global:t,CDetails:a}}var Ae=Object(o["c"])(pe)(de),fe=a("yAXW"),ge={operate_container:"operate_container___3-en0",button_group:"button_group___o53nh"},Oe=d["a"].confirm;function be(e){var t=e.className,a=e.CDetails,n=e.dispatch,c=a.curArt,d=a.isEdit,p=(a.category,a.query),f=a.queueContentData,b=a.queueContentId,D=Object(_["useState"])(!1),C=Object(m["a"])(D,2),M=C[0],I=C[1],P=Object(_["useState"])(!1),y=Object(m["a"])(P,2),v=y[0],T=y[1],B=Object(_["useState"])(!1),h=Object(m["a"])(B,2),j=h[0],U=h[1],L=E["a"].useForm(),R=Object(m["a"])(L,1),K=R[0],W={form:K,className:ge.operate_container},N=function(){if(d)return u["b"].error("\u5de6\u4fa7\u5185\u5bb9\u533a\u57df\u6b63\u5904\u4e8e\u7f16\u8f91\u72b6\u6001\uff0c\u8bf7\u4fdd\u5b58\uff0c\u6216\u53d6\u53d6\u6d88\u7f16\u8f91");K.validateFields().then((function(e){console.log("values",e),A.a.isEmpty(e.covers)?e.covers={}:e.covers=Object.fromEntries(e.covers.map((function(e,t){return[t,e]})));var t=A.a.cloneDeep(c);e.hotValue=e.hotValue?e.hotValue[0]:0,e.bigEvent=e.bigEvent?e.bigEvent[0]:0,e.categoryThird?e.lastCategory=e.categoryThird:e.categorySecond?e.lastCategory=e.categorySecond:e.categoryFirst&&(e.lastCategory=e.categoryFirst);var a=e.auditState,_=e.reason,r=Object(s["a"])(e,["auditState","reason"]);n({type:"CDetails/getAuditSave",payload:{typename:"news",data:Object(i["a"])(Object(i["a"])({},f),{},{feedMessage:Object(i["a"])(Object(i["a"])({},t),r),auditState:a,reason:_})},callback:function(e){K.resetFields(),I(!1),e||o["f"].goBack()}})})).catch((function(e){console.log("errorInfo",e)}))},Q=function(){n({type:"CDetails/getNewsSkip",payload:{skipId:b},callback:function(){T(!1)}})},k=function(){U(!0),Oe({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u9000\u51fa\u5417",onOk:function(){console.log("OK"),n({type:"CDetails/getNewsExit",payload:{id:b},callback:function(){U(!1),o["f"].go(-1)}})},onCancel:function(){}})};return r.a.createElement(E["a"],W,r.a.createElement("div",{className:g()(t)},r.a.createElement(G,{pForm:K,name:"FormCoverImage"}),r.a.createElement(ee,{pForm:K,name:"FormExtraInfo"}),r.a.createElement(Ae,{pForm:K,name:"FormAction"}),r.a.createElement(E["a"].Item,null,r.a.createElement("div",{className:ge.button_group},r.a.createElement(fe["a"],{pathUrl:"/:type/cdetails",text:"\u786e\u5b9a",loading:M,perms:"news:audit",type:"primary",onClick:function(){return N()}}),"search"!==p.routersource&&r.a.createElement(fe["a"],{pathUrl:"/:type/cdetails",text:"\u8df3\u8fc7",loading:v,perms:"news:skip",onClick:function(){return Q()}}),r.a.createElement(l["a"],{loading:j,type:"primary",ghost:!0,onClick:function(){return k()},icon:r.a.createElement(O["a"],null)},"\u9000\u51fa")))))}function De(e){var t=e.Global,a=e.CDetails;return{Global:t,CDetails:a}}var Ce=Object(o["c"])(De)(be),Me={container:"container___2L0J5",content:"content___2vIO_",line:"line___2qENv",action:"action___3XUhl",loading:"loading___1zav7"};function Ie(e){var t=e.history,a=e.dispatch,o=e.CDetails,l=(o.loading,o.actionLoading);Object(_["useEffect"])((function(){a({type:"CDetails/init",payload:{},callback:function(){}})}),[a]);var i={className:Me.content},s={className:Me.action,history:t},u={className:Me.container};return r.a.createElement("div",u,r.a.createElement(c["a"],i),r.a.createElement("div",{className:Me.line}),r.a.createElement(Ce,s),l&&r.a.createElement("div",{className:Me.loading},r.a.createElement(n["a"],{size:"large"})))}function Pe(e){var t=e.CDetails;return{CDetails:t}}t["default"]=Object(o["c"])(Pe)(Ie)},yAXW:function(e,t,a){"use strict";a("+L6B");var n=a("2/Rp"),_=a("wx14"),r=a("Ff2n"),o=a("q1tI"),c=a.n(o),l=a("9kvl"),i=function(e){var t=Object(l["i"])(),a=e.text,o=e.pathUrl,i=void 0===o?"":o,s=e.perms,u=void 0===s?"":s,E=e.children,m=Object(r["a"])(e,["text","pathUrl","perms","children"]);return c.a.createElement(c.a.Fragment,null,u?c.a.createElement(l["a"],{accessible:t.canReadButton(i,u),fallback:E?"":c.a.createElement(n["a"],Object(_["a"])({},m,{disabled:!0}),a)},E||c.a.createElement(n["a"],m,a)):E||c.a.createElement(n["a"],m,a))};t["a"]=i}}]);